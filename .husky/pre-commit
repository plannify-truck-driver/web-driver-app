#!/bin/sh
# Ensure linting and formatting checks pass before committing
set +e
pnpm run lint > /dev/null
lint_exit=$?

if [ $lint_exit -ne 0 ]; then
  echo "âŒ Linting failed. Please fix the issues before committing."
  echo "ğŸ’¡ Try: pnpm run lint --fix"
  exit 1
fi

pnpm run check-format > /dev/null
format_exit=$?

if [ $format_exit -ne 0 ]; then
  echo "âŒ Format check failed. Please format your code before committing."
  echo "ğŸ’¡ Try: pnpm run format"
  exit 1
fi

exit 0